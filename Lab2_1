#include <iostream>

int main() {
    int a, b, c, d;
    std::cout << "Enter values for a, b, c, d: ";
    std::cin >> a >> b >> c >> d;

    // 15 * a = (8 + 4 + 2 + 1) * a
    int partA = (a << 3) + (a << 2) + (a << 1) + a;

    // 312 * b = (256 + 32 + 16 + 8) * b
    int partB = (b << 8) + (b << 5) + (b << 4) + (b << 3);

    // (15a + 312b) / 64 = >> 6
    int term1 = (partA + partB) >> 6;

    // 120 * c = (64 + 32 + 16 + 8) * c
    int term2 = (c << 6) + (c << 5) + (c << 4) + (c << 3);

    // 121 * d = (64 + 32 + 16 + 8 + 1) * d
    int term3 = (d << 6) + (d << 5) + (d << 4) + (d << 3) + d;

    // Final result
    int x = term1 - term2 + term3;

    std::cout << "Result: " << x << std::endl;
    return 0;
}
